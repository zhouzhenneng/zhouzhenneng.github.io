{"version":3,"sources":["webpack://gatsby-blog/./src/common-styles/PageInfo.js","webpack://gatsby-blog/./src/components/Tags.js","webpack://gatsby-blog/./src/components/Utterances.js","webpack://gatsby-blog/./src/constants/tags.js","webpack://gatsby-blog/./src/templates/blog-post.js"],"names":["Date","styled","tags","className","map","tag","index","key","TAGS_COLORS","Utterances","React","title","utterancesRef","useRef","useEffect","window","el","document","createElement","src","async","setAttribute","current","appendChild","remove","ref","typescript","javascript","webpack","网络","浏览器","摘抄","英语","面试","todo","算法与数据结构","阅读写作","编辑器","工程化","react","设计模式","ArticleDate","PrevNextWrap","TagsWrap","BlogPostTemplate","render","post","this","props","data","mdx","frontmatter","readingTime","fields","siteTitle","site","siteMetadata","pageContext","previous","next","location","description","excerpt","date","words","text","MDXRenderer","body","style","marginBottom","rhythm","Link","to","ROUTES","slug","rel"],"mappings":"mJAEaA,E,KAAOC,uBAAH,yDAAGA,CAAH,mC,0DCajB,IAZa,SAAC,GAAmB,IAAD,IAAhBC,YAAgB,MAAT,GAAS,EAC9B,OACE,uBAAKC,UAAU,QACZD,EAAKE,KAAI,SAACC,EAAKC,GAAN,OACR,wBAAMC,IAAKD,EAAOH,UAAS,OAASK,IAAYH,IAC9C,8BAASA,U,gDCLbI,EAAaC,QAAW,YAAgB,IAAbC,EAAY,EAAZA,MACzBC,GAAgBC,cAyBtB,OAvBAC,gBAAU,WACR,GAAsB,oBAAXC,OAAX,CAIA,IAAMC,EAAKC,SAASC,cAAc,UAalC,OAZAF,EAAGG,IAAM,gCACTH,EAAGI,OAAQ,EACXJ,EAAGK,aAAa,OAAQ,wBACxBL,EAAGK,aAAa,aAAcV,GAC9BK,EAAGK,aAAa,QAAS,WACzBL,EAAGK,aAAa,QAAS,gBACzBL,EAAGK,aAAa,cAAe,aAE3BT,EAAcU,SAChBV,EAAcU,QAAQC,YAAYP,GAG7B,WACLA,EAAGQ,aAEJ,CAACb,IAEG,2BAASJ,IAAKI,EAAOR,UAAU,UAAUsB,IAAKb,OAOvD,O,gCCjBA,IAnBoB,CAClBc,WAAY,aACZC,WAAY,aACZC,QAAS,UACTC,KAAI,UACJC,MAAK,aACL,UAAW,YACXC,KAAI,aACJC,KAAI,aACJC,KAAI,UACJC,KAAM,YACNC,UAAS,aACTC,OAAM,aACNC,MAAK,UACLC,MAAK,YACLC,MAAO,aACPC,OAAM,c,gMCAFC,GAAcxC,aAAOD,KAAV,4EAAGC,CAAH,yBAGXyC,EAAezC,yBAAH,kEAAGA,CAAH,kGAOZ0C,EAAW1C,yBAAH,8DAAGA,CAAH,sBAIR2C,E,6FACJC,OAAA,WACE,IAAMC,EAAOC,KAAKC,MAAMC,KAAKC,IAC7B,EAAiCJ,EAAKK,YAA9BxC,EAAR,EAAQA,MACFT,EADN,EAAeA,MACS,GAEhBkD,EAAgBN,EAAKO,OAArBD,YAEFE,EAAYP,KAAKC,MAAMC,KAAKM,KAAKC,aAAa7C,MACpD,EAA2BoC,KAAKC,MAAMS,YAA9BC,EAAR,EAAQA,SAAUC,EAAlB,EAAkBA,KAElB,OACE,gBAAC,IAAD,CAAQC,SAAUb,KAAKC,MAAMY,SAAUjD,MAAO2C,GAC5C,gBAAC,IAAD,CACE3C,MAAOA,EACPkD,YAAaf,EAAKK,YAAYU,aAAef,EAAKgB,UAEpD,uBAAK3D,UAAU,OACb,gBAAC,IAAD,KACE,gBAAC,IAAD,KAAYQ,GACZ,gBAACgC,EAAD,KACE,gBAAC,IAAD,CAAMzC,KAAMA,MAGhB,gBAACuC,EAAD,KACGK,EAAKK,YAAYY,KADpB,IAEE,kCAAaX,EAAYY,MAAzB,WAAyCZ,EAAYa,OAEvD,gBAAC,EAAAC,YAAD,KAAcpB,EAAKqB,MACnB,sBAAIC,MAAO,CAAEC,cAAcC,QAAO,OAClC,gBAAC,IAAD,MAEA,gBAAC5B,EAAD,KACE,2BACGgB,GACC,gBAAC,EAAAa,KAAD,CAAMC,GAAE,GAAKC,aAAkBf,EAASL,OAAOqB,KAAQC,IAAI,QAA3D,QACWjB,EAASP,YAAYxC,QAIpC,2BACGgD,GACC,gBAAC,EAAAY,KAAD,CAAMC,GAAE,GAAKC,aAAkBd,EAAKN,OAAOqB,KAAQC,IAAI,QAAvD,QACWhB,EAAKR,YAAYxC,SAMlC,gBAAC,IAAD,CAAYA,MAAOA,O,GAjDED,aAwD/B","file":"component---src-templates-blog-post-js-2c587573aa36532f8355.js","sourcesContent":["import styled from 'styled-components'\n\nexport const Date = styled.div`\n  font-size: 0.85em;\n  color: #888;\n`\n","import React from 'react'\nimport TAGS_COLORS from 'constants/tags'\n\nconst Tags = ({ tags = [] }) => {\n  return (\n    <div className='tags'>\n      {tags.map((tag, index) => (\n        <span key={index} className={`tag ${TAGS_COLORS[tag]}`}>\n          <strong>{tag}</strong>\n        </span>\n      ))}\n    </div>\n  )\n}\n\nexport default Tags\n","import React, { useRef, useEffect } from 'react'\nimport PropTypes from 'prop-types'\n\nconst Utterances = React.memo(({ title }) => {\n  const utterancesRef = useRef()\n\n  useEffect(() => {\n    if (typeof window === 'undefined') {\n      return\n    }\n\n    const el = document.createElement('script')\n    el.src = 'https://utteranc.es/client.js'\n    el.async = true\n    el.setAttribute('repo', 'uniquemo/gatsby-blog')\n    el.setAttribute('issue-term', title)\n    el.setAttribute('label', 'Comment')\n    el.setAttribute('theme', 'github-light')\n    el.setAttribute('crossorigin', 'anonymous')\n\n    if (utterancesRef.current) {\n      utterancesRef.current.appendChild(el)\n    }\n\n    return () => {\n      el.remove()\n    }\n  }, [title])\n\n  return <section key={title} className='section' ref={utterancesRef} />\n})\n\nUtterances.propTypes = {\n  title: PropTypes.string.isRequired\n}\n\nexport default Utterances\n","const TAGS_COLORS = {\n  typescript: 'is-primary',\n  javascript: 'is-warning',\n  webpack: 'is-link',\n  网络: 'is-info',\n  浏览器: 'is-success',\n  'Node.js': 'is-danger',\n  摘抄: 'is-primary',\n  英语: 'is-warning',\n  面试: 'is-info',\n  todo: 'is-danger',\n  算法与数据结构: 'is-success',\n  阅读写作: 'is-primary',\n  编辑器: 'is-link',\n  工程化: 'is-danger',\n  react: 'is-warning',\n  设计模式: 'is-danger'\n}\n\nexport default TAGS_COLORS\n","import React from 'react'\nimport { Link, graphql } from 'gatsby'\nimport { MDXRenderer } from 'gatsby-plugin-mdx'\nimport styled from 'styled-components'\n\nimport Seo from 'components/SEO'\nimport Bio from 'components/Bio'\nimport Layout from 'components/Layout'\nimport Utterances from 'components/Utterances'\nimport Tags from 'components/Tags'\nimport { PageTitle } from 'common-styles/Title'\nimport { FlexCenter } from 'common-styles/Flex'\nimport { Date } from 'common-styles/PageInfo'\nimport { rhythm } from 'utils/typography'\nimport ROUTES from 'constants/routes'\n\nconst ArticleDate = styled(Date)`\n  margin: 0.5em 0 1em;\n`\nconst PrevNextWrap = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin: 2em 0;\n  font-weight: bold;\n`\nconst TagsWrap = styled.div`\n  margin-left: 1em;\n`\n\nclass BlogPostTemplate extends React.Component {\n  render() {\n    const post = this.props.data.mdx\n    const { title, tags: allTags } = post.frontmatter\n    const tags = allTags || []\n\n    const { readingTime } = post.fields\n\n    const siteTitle = this.props.data.site.siteMetadata.title\n    const { previous, next } = this.props.pageContext\n\n    return (\n      <Layout location={this.props.location} title={siteTitle}>\n        <Seo\n          title={title}\n          description={post.frontmatter.description || post.excerpt}\n        />\n        <div className='box'>\n          <FlexCenter>\n            <PageTitle>{title}</PageTitle>\n            <TagsWrap>\n              <Tags tags={tags} />\n            </TagsWrap>\n          </FlexCenter>\n          <ArticleDate>\n            {post.frontmatter.date}&nbsp;\n            <span>{`总共 ${readingTime.words} words, ${readingTime.text}`}</span>\n          </ArticleDate>\n          <MDXRenderer>{post.body}</MDXRenderer>\n          <hr style={{ marginBottom: rhythm(0.8) }} />\n          <Bio />\n\n          <PrevNextWrap>\n            <div>\n              {previous && (\n                <Link to={`${ROUTES.ARTICLES}${previous.fields.slug}`} rel='prev'>\n                  {`上一篇: ${previous.frontmatter.title}`}\n                </Link>\n              )}\n            </div>\n            <div>\n              {next && (\n                <Link to={`${ROUTES.ARTICLES}${next.fields.slug}`} rel='next'>\n                  {`下一篇: ${next.frontmatter.title}`}\n                </Link>\n              )}\n            </div>\n          </PrevNextWrap>\n\n          <Utterances title={title} />\n        </div>\n      </Layout>\n    )\n  }\n}\n\nexport default BlogPostTemplate\n\nexport const pageQuery = graphql`\n  query BlogPostBySlug($slug: String!) {\n    site {\n      siteMetadata {\n        title\n        author\n      }\n    }\n    mdx(fields: { slug: { eq: $slug } }) {\n      id\n      excerpt(pruneLength: 160)\n      body\n      tableOfContents\n      fields {\n        slug\n        readingTime {\n          text\n          words\n        }\n      }\n      frontmatter {\n        title\n        date(formatString: \"YYYY-MM-DD\")\n        description\n        tags\n        layout\n      }\n    }\n  }\n`\n"],"sourceRoot":""}